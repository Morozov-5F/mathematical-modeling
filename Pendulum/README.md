# Pendulum oscillations

This lab contains program for modelling pendulum oscillations with friction (or resistance).

## Overview

Pendulum oscillations are modelled with three different approximations:

1. *Small angles* ( ![First case][small_angles] )

   In that case we assume that ![ASssumption][assumption]. This lead us to following DE:

<p align='center'>
    <img src='https://pp.vk.me/c637926/v637926739/b457/f2ac1YbvFAM.jpg'/>
</p>

2. *Angles around equilibrium point* ( ![Secong case][big_angles] )

   This case is same as previous, except only one thing - there will be '-' sign in DE:

<p align='center'>
    <img src='https://pp.vk.me/c637926/v637926739/b45e/X0Yc4DonSMY.jpg'/>
</p>


3. *General case*
   This case leads us to other DE:

<p align='center'>
    <img src='https://pp.vk.me/c637926/v637926739/b450/N2UDPWesoKk.jpg'/>
</p>


All these cases are included in program.

All solutions are calculated with GSL library using Runge-Kutta 4th-order method.

## Usage

This program supports following command-line arguments:

  * `-a` Sets absolute error for ODE solutions.
  * `-e` Model to use:
    1. `general` - general case for every angle
    2. `harmonic` - case for small angles
    3. `exponential` - case for small angles around equilibrium point
  * `-f` Output file.
  * `-h` Print help information.
  * `-o` Omega parameter for system (angular frequency).
  * `-r` Relative error for ODE solutions.
  * `-t` Time step for ODE solutions.
  * `-v` Verbose mode.
  * `-A` Initial angle (in radians).
  * `-F` Friction coefficient ![coefficient][coeff].
  * `-T` End time for differential equation
  * `-V` Initial velocity (in radians per second).


It is possible to run some tests with `make` command:

* `make all` - compiles program only and produces `pendulum` executable
* `make example_data` - creates example data for all three methods with following flags: `penduum -A 0 -t 1e-1 -T 50 -F 0.2`
* `make plot` - produces a plots using gnuplot and data, generated by `make all_data`
* `make prepare_animation` - prepares example data for animation. Smae flasg are used as in `example_data` target, but `-V` flag varies from -6 to 6.
* `make animation` - renders a gif animation

## Example animation

This is example animation created by `make prepare_animation animation` command:

<p align='center'>
	<img src='http://i.giphy.com/26hirEarFnkWcnzxK.gif'/>
</p>

[assumption]: https://pp.vk.me/c637926/v637926739/b465/KKmfcRvLwvg.jpg
[small_angles]: https://pp.vk.me/c637926/v637926739/b43b/eigDYZ7wTLk.jpg
[big_angles]: https://pp.vk.me/c637926/v637926739/b48a/T8hR9eIBEeM.jpg
[oscillator_eq]: https://pp.vk.me/c637926/v637926739/b450/N2UDPWesoKk.jpg
[small_angles_eq]: https://pp.vk.me/c637926/v637926739/b457/f2ac1YbvFAM.jpg
[big_angles_eq]: https://pp.vk.me/c637926/v637926739/b45e/X0Yc4DonSMY.jpg
[coeff]: https://pp.vk.me/c637926/v637926739/b491/2CHnfShG0_w.jpg
